{% load static %}
{% load bootstrap5 %}
{% comment %} {% bootstrap_css %}
{% bootstrap_javascript %} {% endcomment %}
{% block content %}
    <head>
         <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=yes">
        <link href="https://api.mapbox.com/mapbox-gl-js/v3.4.0/mapbox-gl.css" rel="stylesheet"> 
         <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <script src="{% static 'js/bootstrap.min.js' %}"></script> 
        <script src="https://api.mapbox.com/mapbox-gl-js/v3.4.0/mapbox-gl.js"></script>
        <style>
            body { margin: 0; padding: 0; }
            #map { position: absolute; top: 0; bottom: 0; width: 75%; }
            .mapboxgl-popup {
                max-width: 600px;
                font:
                    12px/20px 'Helvetica Neue',
                    Arial,
                    Helvetica,
                    sans-serif;
        
        </style>
    </head> 
    <h1>Create a new hunt!</h1>

        <div id="map"></div>
        <script>
            mapboxgl.accessToken = "pk.eyJ1IjoibWFya2VsbW9yZSIsImEiOiJjbHg5cTVwcjcxNGg5Mmlwem54bG5tOTM0In0.YCWAhDPq7GufYwVjlOz3dQ"
            const map = new mapboxgl.Map({
                container: 'map', // container ID
                style: 'mapbox://styles/mapbox/satellite-streets-v12', //the map style
                projection: 'globe',
                center: [-121.81, 39.32], // starting position [lng, lat]
                zoom: 10 // starting zoom
            });

            const hunt_popup = new mapboxgl.Popup()
            map.on('click', (e) => {
                console.log(`A click event has occurred at ${e.lngLat}`);
                hunt_popup.setLngLat(e.lngLat).setHTML(
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createHuntModal">Create New Hunt</button>                    ''
                    )
                    .addTo(map); 
            }); 
            $
       
{% endblock %}
